<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Restaurant Order Checkout</title>
  <link rel="stylesheet" href="stylesheet.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }
    .header-wrapper {
      background: #222;
      color: white;
      padding: 15px;
    }
    header {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .nav-items a {
      color: white;
      margin: 0 10px;
      text-decoration: none;
    }
    h1 {
      text-align: center;
      margin-top: 20px;
    }
    .filter-bar {
      text-align: center;
      margin: 20px;
    }
    .filter-bar select {
      padding: 8px;
      font-size: 16px;
    }
    .main-container {
      display: flex;
      flex-wrap: wrap;
      padding: 20px;
      gap: 20px;
      justify-content: center;
    }
    .dish {
      border: 1px solid #ccc;
      padding: 15px;
      width: 220px;
      text-align: center;
    }
    .dish img {
      max-width: 100%;
      height: auto;
    }
    .c-container {
      width: 100%;
      max-width: 600px;
      margin: 30px auto;
      border: 1px solid #ccc;
      padding: 20px;
    }
    .totals p {
      margin: 5px 0;
    }
    form label {
      font-weight: bold;
    }
    form input, form select {
      width: 100%;
      padding: 8px;
      margin: 5px 0 15px 0;
    }
    button {
      padding: 10px 15px;
      background: #007bff;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div class="header-wrapper">
    <header>
      <div class="logo"><h1>Ntachiosa</h1></div>
      <nav class="nav-items">
        <a href="#">Home</a>
        <a href="#">Services</a>
        <a href="#about">About</a>
        <a href="#contact">Contact</a>
        <a href="#resources">Resources</a>
      </nav>
    </header>
  </div>

  <h1>Restaurant Menu</h1>

  <!-- Category Filter -->
  <div class="filter-bar">
    <label for="category-select">Choose a category:</label>
    <select id="category-select" onchange="filterDishes()">
      <option value="all">All</option>
      <option value="soup">Soups</option>
      <option value="rice">Rice Dishes</option>
      <option value="grilled">Grilled</option>
      <option value="swallow">Swallow & Soups</option>
    </select>
  </div>

  <!-- Menu Section -->
  <div class="main-container" id="menu">
    <div class="dish" data-category="soup">
      <img src="pepper_soup.jpg" alt="Pepper Soup">
      <h3>Pepper Soup</h3>
      <p>Assorted Meat</p>
      <p>Price: $8.00</p>
      <button onclick="addToOrder('Pepper Soup', 8)">Add to Order</button>
    </div>
    <div class="dish" data-category="grilled">
      <img src="suya.jpg" alt="Suya">
      <h3>Suya</h3>
      <p>Spicy grilled beef</p>
      <p>Price: $10.00</p>
      <button onclick="addToOrder('Suya', 10)">Add to Order</button>
    </div>
    <div class="dish" data-category="rice">
      <img src="rice_and_beans.jpg" alt="Rice and Beans">
      <h3>Rice & Beans</h3>
      <p>With fried plantain</p>
      <p>Price: $7.50</p>
      <button onclick="addToOrder('Rice & Beans', 7.5)">Add to Order</button>
    </div>
    <div class="dish" data-category="rice">
      <img src="White-Rice-Stew.jpg" alt="White Rice & Stew">
      <h3>White Rice & Stew</h3>
      <p>With beef stew</p>
      <p>Price: $7.00</p>
      <button onclick="addToOrder('White Rice & Stew', 7)">Add to Order</button>
    </div>
    <div class="dish" data-category="rice">
      <img src="jollof_rice.jpg" alt="Jollof Rice">
      <h3>Jollof Rice</h3>
      <p>Classic party style</p>
      <p>Price: $9.00</p>
      <button onclick="addToOrder('Jollof Rice', 9)">Add to Order</button>
    </div>
    <div class="dish" data-category="swallow">
      <img src="Egusi.jpg" alt="Egusi Soup">
      <h3>Egusi Soup</h3>
      <p>With pounded yam</p>
      <p>Price: $11.00</p>
      <button onclick="addToOrder('Egusi Soup', 11)">Add to Order</button>
    </div>
  </div>

  <!-- Checkout Section -->
  <div class="c-container">
    <h2>Checkout</h2>
    <div id="checkout"></div>
    <div class="totals">
      <p><strong>Subtotal:</strong> $<span id="subtotal">0.00</span></p>
      <p><strong>Discount (10%):</strong> $<span id="discount">0.00</span></p>
      <p><strong>Total:</strong> $<span id="total">0.00</span></p>
    </div>

    <h2>Payment Details</h2>
    <form id="payment-form" onsubmit="return submitPayment(event)">
      <label for="customer-name">Customer Name:</label>
      <input type="text" id="customer-name" required>

      <label for="payment-method">Payment Method:</label>
      <select id="payment-method" onchange="toggleCardFields()" required>
        <option value="">--Select--</option>
        <option value="card">Credit / Debit Card</option>
        <option value="cash">Cash</option>
        <option value="mobile">Mobile Payment</option>
      </select>

      <div id="card-fields" style="display: none;">
        <label for="card-number">Card Number:</label>
        <input type="text" id="card-number" maxlength="16">

        <label for="expiry">Expiry Date:</label>
        <input type="month" id="expiry">

        <label for="cvv">CVV:</label>
        <input type="password" id="cvv" maxlength="4">
      </div>

      <button type="submit">Pay Now</button>
    </form>
    <button onclick="startNewOrder()">âž• Start New Order</button>
  </div>

  <!-- JavaScript -->
  <script>
    let order = [];

    function addToOrder(name, price) {
      order.push({ name, price });
      renderCheckout();
    }

    function renderCheckout() {
      const checkout = document.getElementById("checkout");
      const subtotalElem = document.getElementById("subtotal");
      const discountElem = document.getElementById("discount");
      const totalElem = document.getElementById("total");

      checkout.innerHTML = "";
      let subtotal = 0;

      order.forEach((item, index) => {
        subtotal += item.price;
        const itemDiv = document.createElement("div");
        itemDiv.textContent = `${item.name} - $${item.price.toFixed(2)}`;
        checkout.appendChild(itemDiv);
      });

      const discount = subtotal * 0.10;
      const total = subtotal - discount;

      subtotalElem.textContent = subtotal.toFixed(2);
      discountElem.textContent = discount.toFixed(2);
      totalElem.textContent = total.toFixed(2);
    }

    function toggleCardFields() {
      const method = document.getElementById("payment-method").value;
      const cardFields = document.getElementById("card-fields");
      cardFields.style.display = method === "card" ? "block" : "none";
    }

    function submitPayment(event) {
      event.preventDefault();
      if (order.length === 0) {
        alert("Your cart is empty.");
        return false;
      }
      alert("Payment processed successfully!");
      startNewOrder();
      return false;
    }

    function startNewOrder() {
      order = [];
      renderCheckout();
      document.getElementById("payment-form").reset();
      toggleCardFields();
    }

    function filterDishes() {
      const selectedCategory = document.getElementById("category-select").value;
      const dishes = document.querySelectorAll('.dish');
      dishes.forEach(dish => {
        const category = dish.getAttribute('data-category');
        dish.style.display = (selectedCategory === 'all' || category === selectedCategory)
          ? 'block' : 'none';
      });
    }
  </script>
</body>
</html>
